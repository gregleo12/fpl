# FPL H2H Analytics - Complete Version History

**Project Start:** October 23, 2024
**Total Releases:** 249+ versions
**Current Version:** v2.6.7 (December 15, 2025)

---


## ðŸŽ¨ v2.3.x - My Team UI Polish & Mobile Optimization (Dec 2025)

### v2.3.1 - Fix Desktop Collapsible Sections Bug (Dec 11, 2025)
**CRITICAL FIX:** Desktop now shows all section content correctly
- Bug: Sections with `defaultOpen={false}` hid content on desktop
- Root Cause: Conditional rendering (`{isOpen && <div>}`) prevented CSS override
- Fix: Always render content div, control visibility with CSS classes
- Added: `.open` and `.closed` classes for state-based styling
- Desktop: Both classes override to `display: block` (always visible)
- Mobile: `.closed` hides with `display: none`, `.open` shows
- Impact: Desktop users can now see Overall, Squad Value, Transfers sections
- Files: `src/components/PitchView/StatsPanel.tsx`, `src/components/PitchView/StatsPanel.module.css`

### v2.3.0 - Add Collapsible Sections & Compact Mobile Layout (Dec 10, 2025)
**UI POLISH:** Improved stats panel with collapsible sections for better mobile experience
- Added: Collapsible sections on mobile (tap to expand/collapse)
- Desktop: Sections always open with cleaner header styling
- Mobile: "This Gameweek" open by default, others collapsed to reduce scrolling
- Sections: This Gameweek, Overall, Squad Value, Transfers, GW Transfers
- Added: Hover states and tap affordance for future interactivity
- Styling: More compact desktop padding (1.5rem â†’ 1.25rem)
- Styling: Mobile padding reduced (1.5rem â†’ 1rem)
- Impact: Mobile users no longer scroll through massive stats block to reach pitch
- Impact: Cleaner, more organized information architecture
- Files: `src/components/PitchView/StatsPanel.tsx`, `src/components/PitchView/StatsPanel.module.css`

---

## ðŸŽ¨ v2.2.x - My Team Redesign (Dec 2025)

### v2.2.7 - Sync Left Panel with Gameweek Selection (Dec 10, 2025)
**FEATURE:** Left panel stats now update when gameweek changes
- Fixed: StatsPanel now syncs with selected GW from arrow navigation
- Lifted: GW state from PitchView to MyTeamTab for shared control
- Added: `selectedGW` prop to both StatsPanel and PitchView
- Added: GW query parameter support to `/api/team/[teamId]/info` route
- Flow: Arrow click â†’ MyTeamTab state update â†’ both panels refetch with new GW
- Impact: Users can now view historical GW stats in left panel, not just current GW
- Files: `src/components/Dashboard/MyTeamTab.tsx`, `src/components/PitchView/PitchView.tsx`, `src/components/PitchView/StatsPanel.tsx`, `src/app/api/team/[teamId]/info/route.ts`

### v2.2.6 - Improve Formation Badge Placement (Dec 10, 2025)
**UX FIX:** Formation badge now positioned inside pitch area
- Moved: Formation badge from floating above pitch to top-left corner inside pitch
- Styled: Smaller, more subtle design with dark background and blur effect
- Changed: Position from `inline-block` to `absolute` at top-left (1rem, 1rem)
- Reduced: Font size from 0.85rem to 0.75rem (desktop) and 0.7rem (mobile)
- Added: Backdrop blur, subtle shadow, and better opacity for modern look
- Impact: Badge looks intentional and integrated with pitch, not awkwardly floating
- Files: `src/components/PitchView/PitchView.tsx`, `src/components/PitchView/PitchView.module.css`

### v2.2.5 - Add Current GW Transfer Details (Dec 10, 2025)
**FEATURE:** Display detailed transfer information with player names and points
- Added: Current GW transfers section showing player-by-player breakdown
- Display Format: "PlayerOut (Xpts) â†’ PlayerIn (Ypts) = Â±Z"
- Added: Net gain calculation for each transfer
- Added: Total net gain summary with hit cost factored in
- Backend: Updated `/api/team/[teamId]/transfers` to fetch player points from bootstrap
- Frontend: New transfer detail section with styled player names and net gains
- Impact: Users can now see exactly how their transfers performed in current gameweek
- Files: `src/app/api/team/[teamId]/transfers/route.ts`, `src/components/PitchView/StatsPanel.tsx`, `src/components/PitchView/StatsPanel.module.css`

### v2.2.4 - Add FPL-wide Average and Highest Points (Dec 10, 2025)
**FEATURE:** Display league-wide statistics in My Team Stats panel
- Added: Average Points row to "This Gameweek" section
- Added: Highest Points row to "This Gameweek" section
- Backend: Updated `/api/team/[teamId]/info` to extract stats from bootstrap events array
- Frontend: Updated StatsPanel to display `averagePoints` and `highestPoints`
- Data Source: FPL bootstrap-static API events[currentGW-1].average_entry_score and .highest_score
- Impact: Users can now compare their GW performance against FPL-wide averages
- Files: `src/app/api/team/[teamId]/info/route.ts`, `src/components/PitchView/StatsPanel.tsx`

### v2.2.3 - Remove Duplicate Header Stats (Dec 10, 2025)
**UX CLEANUP:** Removed redundant Points and Transfers boxes from pitch view header
- Removed: Duplicate GW Stats section showing Points and Transfers
- Reason: Information already displayed in left panel's "This Gameweek" section
- Result: Cleaner layout without redundant information
- Impact: Left panel still shows Points, Rank, and Transfers as comprehensive stats
- Files: `src/components/PitchView/PitchView.tsx`

### v2.2.2 - Fix Pitch Markings Alignment (Dec 10, 2025)
**UX FIX:** Pitch markings now properly positioned relative to player rows
- Fixed: Halfway line moved from 50% to 35% from top
- Fixed: Center circle repositioned to 35% (aligned with halfway line)
- Fixed: Center spot repositioned to 35% (aligned with halfway line)
- Result: Halfway line now clearly between defenders and midfielders
- Result: Center circle no longer cuts through defender row
- Impact: Pitch looks like actual football pitch with proper perspective
- Files: `src/components/PitchView/PitchView.module.css`

### v2.2.1 - Negative Scores & Bigger Player Cards (Dec 10, 2025)
**UX IMPROVEMENTS:** Enhanced fixtures and pitch view display
- Added: Negative fixture scores show in parentheses format (4) instead of -4
- Reason: Prevents confusing displays like "-4 - 4" â†’ now shows as "(4) - 4"
- Fixed: Player cards made bigger to prevent name truncation
- Desktop: Cards 60px â†’ 80px, kits 70px, name max-width 95px
- Mobile: Cards 50px â†’ 65px, kits 60px, name max-width 80px
- Impact: Names like "B.Fernandes" and "Woltemade" now display fully
- Files: `src/components/Fixtures/FixturesTab.tsx`, `src/components/PitchView/PlayerCard.module.css`

---

